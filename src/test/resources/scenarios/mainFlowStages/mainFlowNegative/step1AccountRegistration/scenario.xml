<scenario xmlns="http://www.knubisoft.com/e2e/testing/model/scenario" variations="ownerRegisterN.csv">

    <overview>
        <description>Check ability successful registration on "pme"</description>
        <name>Registration main flow</name>
    </overview>

    <tags>
        <tag>Frontend</tag>
    </tags>

    <migrate comment="Add public pages" alias="central">
        <patches>central_required.sql</patches>
        <patches>central_email_templates.sql</patches>
    </migrate>

    <http comment="Clear cash for successful start scenario"
          alias="api">
        <post url="/api/v1/cache/invalidate"/>
    </http>

    <ui comment="First part of ui commands">
    <click comment="Click on Registration button"
           locatorId="mainPage.register"/>

    <input comment="Input first name"
           locatorId="ownerRegistration.firstName"
           value="{{firstName}}"/>

    <input comment="Input lastname"
           locatorId="ownerRegistration.lastName"
           value="{{lastName}}"/>

    <input comment="Input email"
           locatorId="ownerRegistration.emailAddress"
           value="{{emailAddress}}"/>

    <input comment="Input password"
           locatorId="ownerRegistration.password"
           value="{{password}}!"/>

    <input comment="Input repeat password"
           locatorId="ownerRegistration.repPassword"
           value="{{repPassword}}!"/>

    <click comment="Click on 'confirm' 'Terms of use' and 'Privacy Policy' button"
           locatorId="ownerRegistration.confirm"/>

    <click comment="Click on 'Register account' button"
           locatorId="ownerRegistration.regAccount"
           method="js"/>
    </ui>

    <wait comment="Waiting of loading the 2Fa auth page"
          time="3"
          unit="seconds"/>

    <ui comment="Second part of ui commands">
        <assert comment="We stayed on the current page"
                locatorId="ownerRegistration.negativeAssertOwner"
                attribute="id">
            <content>register_account_first-name_input</content>
        </assert>
    </ui>


</scenario>