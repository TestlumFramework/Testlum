<scenario xmlns="http://www.knubisoft.com/e2e/testing/model/scenario">

    <overview>
        <description>DynamoDB Tests</description>
        <name>DynamoDB test scenario</name>
    </overview>

    <tags>
        <tag>self_test</tag>
    </tags>

    <migrate comment="Prepare information from playground_patch_1 and playground_patch_2 (6 records)" name="DYNAMO"
             alias="dynamo_one">
        <patches>dynamo_patch_1.partiql</patches>
        <patches>dynamo_patch_2.partiql</patches>
    </migrate>

    <dynamo comment="Execute mixed postgres commands (SELECT/INSERT/DELETE/UPDATE)"
            file="expected_2.json"
            alias="dynamo_one">
        <query>INSERT INTO playground value {'year' : 11 , 'title' : 'Strassenbande-11',
            'Map': {'key': {'key2': ['hoge', 100]}}, 'List': ['hoge', 100]}
        </query>
        <query>DELETE FROM playground WHERE year = 2 AND title = 'Strassenbande-2'</query>
        <query>UPDATE playground SET Albums={'Platin':[2020, 2018]} WHERE year = 1 AND title = 'Strassenbande-1'</query>
        <query>SELECT * FROM playground</query>
    </dynamo>
<!--WORKING WITH SECOND DATABASE-->
    <migrate comment="Prepare information from playground_patch_1 and playground_patch_2 (6 records)" name="DYNAMO"
             alias="dynamo_two">
        <patches>dynamo_patch_3.partiql</patches>
        <patches>dynamo_patch_4.partiql</patches>
    </migrate>

    <dynamo comment="Execute mixed postgres commands (SELECT/INSERT/DELETE/UPDATE)"
            file="expected_4.json"
            alias="dynamo_two">
        <query>INSERT INTO cloud value {'year' : 11 , 'title' : 'Strassenbande-11',
            'Map': {'key': {'key2': ['hoge', 100]}}, 'List': ['hoge', 100]}
        </query>
        <query>DELETE FROM cloud WHERE year = 2 AND title = 'Strassenbande-2'</query>
        <query>UPDATE cloud SET Albums={'Platin':[2020, 2018]} WHERE year = 1 AND title = 'Strassenbande-1'</query>
        <query>SELECT * FROM cloud</query>
    </dynamo>

</scenario>
