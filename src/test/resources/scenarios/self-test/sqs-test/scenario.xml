<scenario xmlns="http://www.knubisoft.com/e2e/testing/model/scenario">

    <overview>
        <description>Self sqs test</description>
        <name>SQS test scenario</name>
    </overview>

    <tags>
        <tag>self_test</tag>
    </tags>

    <sqs comment="Compare message from empty queue with file content"
         alias="queue_one"
         queue="queue">
        <receive>expected_1.json</receive>
    </sqs>

    <sqs comment="Compare message from empty queue inline mode"
         alias="queue_one"
         queue="queue">
        <receive>null</receive>
    </sqs>

    <sqs comment="Sending message from file expected_3 to queue"
         alias="queue_one"
         queue="queue">
        <send>expected_3.json</send>
    </sqs>

    <sqs comment="Test compare previous message from queue with file expected_4"
         alias="queue_one"
         queue="queue">
        <receive>expected_4.json</receive>
    </sqs>

    <sqs comment="Test send message to message queue directly from xml file"
         alias="queue_one"
         queue="queue">
        <send>{
            "squadName": "Super hero squad",
            "homeTown": "Metro City",
            "formed": 2016,
            "secretBase": "Super tower",
            "active": true,
            "members": [
            {
            "name": "Molecule Man",
            "age": 29,
            "secretIdentity": "Dan Jukes",
            "powers": [
            "Radiation resistance",
            "Turning tiny",
            "Radiation blast"
            ]
            },
            {
            "name": "Madame Uppercut",
            "age": 39,
            "secretIdentity": "Jane Wilson",
            "powers": [
            "Million tonne punch",
            "Damage resistance",
            "Superhuman reflexes"
            ]
            },
            {
            "name": "Eternal Flame",
            "age": 1000000,
            "secretIdentity": "Unknown",
            "powers": [
            "Immortality",
            "Heat Immunity",
            "Inferno",
            "Teleportation",
            "Interdimensional travel"
            ]
            }
            ]
            }
        </send>
    </sqs>

    <sqs comment="Test compare previous message with json from xml file"
         alias="queue_one"
         queue="queue">
        <receive>{
            "squadName": "Super hero squad",
            "homeTown": "Metro City",
            "formed": 2016,
            "secretBase": "Super tower",
            "active": true,
            "members": [
            {
            "name": "Molecule Man",
            "age": 29,
            "secretIdentity": "Dan Jukes",
            "powers": [
            "Radiation resistance",
            "Turning tiny",
            "Radiation blast"
            ]
            },
            {
            "name": "Madame Uppercut",
            "age": 39,
            "secretIdentity": "Jane Wilson",
            "powers": [
            "Million tonne punch",
            "Damage resistance",
            "Superhuman reflexes"
            ]
            },
            {
            "name": "Eternal Flame",
            "age": 1000000,
            "secretIdentity": "Unknown",
            "powers": [
            "Immortality",
            "Heat Immunity",
            "Inferno",
            "Teleportation",
            "Interdimensional travel"
            ]
            }
            ]
            }
        </receive>
    </sqs>

    <sqs comment="Sending message from file expected_3 to queue # 2"
         alias="queue_one"
         queue="queue">
        <send>expected_7.json</send>
    </sqs>
<!--    QUEUE TWO-->
    <sqs comment="Compare message from empty queue with file content"
         alias="queue_two"
         queue="queue_two">
        <receive>expected_8.json</receive>
    </sqs>

    <sqs comment="Compare message from empty queue inline mode"
         alias="queue_two"
         queue="queue_two">
        <receive>null</receive>
    </sqs>

    <sqs comment="Sending message from file expected_3 to queue"
         alias="queue_two"
         queue="queue_two">
        <send>expected_10.json</send>
    </sqs>

    <sqs comment="Test compare previous message from queue with file expected_4"
         alias="queue_two"
         queue="queue_two">
        <receive>expected_11.json</receive>
    </sqs>

    <sqs comment="Test send message to message queue directly from xml file"
         alias="queue_two"
         queue="queue_two">
        <send>{
            "squadName": "Super hero squad",
            "homeTown": "Metro City",
            "formed": 2016,
            "secretBase": "Super tower",
            "active": true,
            "members": [
            {
            "name": "Molecule Man",
            "age": 29,
            "secretIdentity": "Dan Jukes",
            "powers": [
            "Radiation resistance",
            "Turning tiny",
            "Radiation blast"
            ]
            },
            {
            "name": "Madame Uppercut",
            "age": 39,
            "secretIdentity": "Jane Wilson",
            "powers": [
            "Million tonne punch",
            "Damage resistance",
            "Superhuman reflexes"
            ]
            },
            {
            "name": "Eternal Flame",
            "age": 1000000,
            "secretIdentity": "Unknown",
            "powers": [
            "Immortality",
            "Heat Immunity",
            "Inferno",
            "Teleportation",
            "Interdimensional travel"
            ]
            }
            ]
            }
        </send>
    </sqs>

    <sqs comment="Test compare previous message with json from xml file"
         alias="queue_two"
         queue="queue_two">
        <receive>{
            "squadName": "Super hero squad",
            "homeTown": "Metro City",
            "formed": 2016,
            "secretBase": "Super tower",
            "active": true,
            "members": [
            {
            "name": "Molecule Man",
            "age": 29,
            "secretIdentity": "Dan Jukes",
            "powers": [
            "Radiation resistance",
            "Turning tiny",
            "Radiation blast"
            ]
            },
            {
            "name": "Madame Uppercut",
            "age": 39,
            "secretIdentity": "Jane Wilson",
            "powers": [
            "Million tonne punch",
            "Damage resistance",
            "Superhuman reflexes"
            ]
            },
            {
            "name": "Eternal Flame",
            "age": 1000000,
            "secretIdentity": "Unknown",
            "powers": [
            "Immortality",
            "Heat Immunity",
            "Inferno",
            "Teleportation",
            "Interdimensional travel"
            ]
            }
            ]
            }
        </receive>
    </sqs>

    <sqs comment="Sending message from file expected_3 to queue # 2"
         alias="queue_two"
         queue="queue_two">
        <send>expected_14.json</send>
    </sqs>

</scenario>
